Una matriz de cosas

recorrido chulo para no salirse de las matrices por los bordes

for(i = maximo(0, fila - 1,); i menorigual minimo(fila - 1, fila + 1); i++)
	for(j = maximo(0, columna - 1,); j menorigual minimo(columna - 1, columna + 1); j++)
		if(i != gila || j != columna){
			para no considerar pto (fila,col)		}
			adyacentes()
		}

